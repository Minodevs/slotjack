(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3425],{3002:function(e,s,a){Promise.resolve().then(a.bind(a,9971))},7461:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(4090),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),r=(e,s)=>{let a=(0,t.forwardRef)((a,r)=>{let{color:i="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:x,className:m="",children:o,...u}=a;return(0,t.createElement)("svg",{ref:r,...l,width:c,height:c,stroke:i,strokeWidth:x?24*Number(d)/Number(c):d,className:["lucide","lucide-".concat(n(e)),m].join(" "),...u},[...s.map(e=>{let[s,a]=e;return(0,t.createElement)(s,a)}),...Array.isArray(o)?o:[o]])});return a.displayName="".concat(e),a}},9325:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(7461).Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},9108:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(7461).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},834:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(7461).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8670:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(7461).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7326:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(7461).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},489:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(7461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8106:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(7461).Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},9971:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return f}});var t=a(3827),l=a(4090),n=a(7907),r=a(5947),i=a(5561),c=a(9108),d=a(834),x=a(7326),m=a(8670),o=a(9325);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,a(7461).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var h=a(8106),g=a(489),y=a(8792),p=a(703),j=a(8009);function f(){let e=(0,n.useRouter)(),{user:s,loading:a}=(0,r.useAuth)(),[f,b]=(0,l.useState)([]),[N,v]=(0,l.useState)([]),[k,w]=(0,l.useState)(""),[C,Z]=(0,l.useState)("all"),[z,S]=(0,l.useState)(!0),[M,K]=(0,l.useState)(!1),[A,E]=(0,l.useState)(null),[B,L]=(0,l.useState)("");(0,l.useEffect)(()=>{!a&&s&&s.rank!==i.X.ADMIN&&(e.push("/"),j.default.error("Bu sayfaya erişim yetkiniz yok."))},[s,a,e]),(0,l.useEffect)(()=>{S(!0),b([]),v([]),S(!1)},[]);let D=e=>{E(e),K(!0)},R=e=>{b(f.map(s=>s.id===e?{...s,isBanned:!1,banReason:void 0}:s)),j.default.success("Kullanıcı engeli kaldırıldı.")},T=e=>{v(N.map(s=>s.id===e?{...s,isDeleted:!0}:s)),j.default.success("Mesaj silindi.")},_=e=>new Date(e).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}),q=e=>new Date(e).toLocaleDateString("tr-TR"),H=f.filter(e=>{let s=e.username.toLowerCase().includes(k.toLowerCase())||e.email.toLowerCase().includes(k.toLowerCase());return"all"===C?s:"active"===C?s&&!e.isBanned:"banned"===C?s&&e.isBanned:s});return a?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-900",children:(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center mb-8",children:[(0,t.jsxs)(y.default,{href:"/admin",className:"flex items-center mr-4 text-gray-400 hover:text-white transition-colors",children:[(0,t.jsx)(c.Z,{className:"w-5 h-5 mr-1"}),"Admin Panele D\xf6n"]}),(0,t.jsx)("h1",{className:"text-2xl font-bold flex-1",children:"Sohbet Y\xf6netimi"}),(0,t.jsxs)("button",{onClick:()=>{j.default.success("Veriler yenileniyor...")},className:"flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,t.jsx)(d.Z,{size:16,className:"mr-1.5"}),"Yenile"]})]}),(0,t.jsx)("div",{className:"bg-blue-900/20 border border-blue-800/50 rounded-lg p-4 mb-8",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(x.Z,{className:"w-5 h-5 text-blue-400 mr-3 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-blue-300 mb-1",children:"Yalnızca Kayıtlı Kullanıcılara A\xe7ık"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm",children:"Sohbet sistemi sadece kayıtlı ve giriş yapmış kullanıcılar tarafından kullanılabilir. Ziyaret\xe7iler ve kayıtsız kullanıcılar sohbete erişemezler. Moderat\xf6rler ve adminler, kullanıcı mesajlarını g\xf6rebilir, silebilir ve uygunsuz i\xe7erik paylaşan kullanıcıları engelleyebilir."})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 shadow-lg",children:[(0,t.jsx)("h3",{className:"text-gray-400 text-sm mb-1",children:"Kullanıcılar"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:f.length})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 shadow-lg",children:[(0,t.jsx)("h3",{className:"text-gray-400 text-sm mb-1",children:"Aktif Kullanıcılar"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-500",children:f.filter(e=>!e.isBanned).length})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 shadow-lg",children:[(0,t.jsx)("h3",{className:"text-gray-400 text-sm mb-1",children:"Engellenen Kullanıcılar"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-500",children:f.filter(e=>e.isBanned).length})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 shadow-lg",children:[(0,t.jsx)("h3",{className:"text-gray-400 text-sm mb-1",children:"Toplam Mesaj"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-500",children:f.reduce((e,s)=>e+s.messageCount,0)})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-700 flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold flex-1",children:"Sohbet Kullanıcıları"}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Kullanıcı ara...",value:k,onChange:e=>w(e.target.value),className:"bg-gray-700 text-white rounded-md pl-9 pr-4 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"}),(0,t.jsx)(m.Z,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),(0,t.jsxs)("select",{value:C,onChange:e=>Z(e.target.value),className:"bg-gray-700 text-white rounded-md px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"T\xfcm\xfc"}),(0,t.jsx)("option",{value:"active",children:"Aktif"}),(0,t.jsx)("option",{value:"banned",children:"Engellenmiş"})]})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-700/50",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Kullanıcı"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Mesaj Sayısı"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Son Aktivite"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Durum"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"İşlemler"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-700",children:z?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-4 py-3 text-center text-gray-400",children:"Y\xfckleniyor..."})}):0===H.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-4 py-3 text-center text-gray-400",children:"Kullanıcı bulunamadı"})}):H.map(e=>(0,t.jsxs)("tr",{className:"".concat(e.isBanned?"bg-red-900/10":""," hover:bg-gray-750"),children:[(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-blue-600 flex-shrink-0 flex items-center justify-center mr-3",children:e.avatar?(0,t.jsx)(p.default,{src:e.avatar,alt:e.username,width:32,height:32,className:"object-cover"}):(0,t.jsx)("span",{className:"text-xs font-bold text-white",children:e.username.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.username}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:e.email})]})]})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"text-sm",children:e.messageCount})}),(0,t.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,t.jsx)("span",{className:"text-sm",children:_(e.lastActive)}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:q(e.lastActive)})]}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:e.isBanned?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-900 text-red-200",children:[(0,t.jsx)(o.Z,{size:12,className:"mr-1"})," Engellenmiş"]}),e.banReason&&(0,t.jsx)("div",{className:"mt-1 text-xs text-gray-400",children:e.banReason})]}):(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-900 text-green-200",children:[(0,t.jsx)(u,{size:12,className:"mr-1"})," Aktif"]})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.isBanned?(0,t.jsx)("button",{onClick:()=>R(e.id),className:"text-green-400 hover:text-green-300 mr-3",children:(0,t.jsx)(u,{size:16})}):(0,t.jsx)("button",{onClick:()=>D(e.id),className:"text-red-400 hover:text-red-300 mr-3",children:(0,t.jsx)(h.Z,{size:16})})})]},e.id))})]})})]})}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg h-full",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Son Mesajlar"})}),(0,t.jsx)("div",{className:"overflow-y-auto p-4 space-y-4",style:{maxHeight:"600px"},children:z?(0,t.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Y\xfckleniyor..."}):0===N.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Mesaj bulunamadı"}):N.map(e=>(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-md ".concat(e.isDeleted?"bg-red-900/10":"bg-gray-750"),children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-blue-600 flex-shrink-0 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs font-bold text-white",children:e.username.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:e.username}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:_(e.timestamp)})]}),e.isDeleted?(0,t.jsx)("p",{className:"text-sm mt-1 italic text-gray-500",children:"Bu mesaj moderat\xf6r tarafından silindi."}):(0,t.jsx)("p",{className:"text-sm mt-1",children:e.message})]}),!e.isDeleted&&(0,t.jsx)("button",{onClick:()=>T(e.id),className:"text-red-400 hover:text-red-300 p-1",title:"Mesajı Sil",children:(0,t.jsx)(g.Z,{size:16})})]},e.id))})]})})]}),(0,t.jsxs)("div",{className:"mt-8 bg-gray-800 rounded-lg shadow-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(x.Z,{className:"w-5 h-5 text-blue-400 mr-2"}),(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Sohbet Kuralları"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-300 space-y-2",children:[(0,t.jsx)("p",{children:"1. Diğer kullanıcılara saygılı olun ve hakaret i\xe7eren mesajlar yazmayın."}),(0,t.jsx)("p",{children:"2. Spam yapmayın ve aynı mesajı tekrar tekrar g\xf6ndermeyin."}),(0,t.jsx)("p",{children:"3. Kumar, bahis veya yasa dışı i\xe7erikler hakkında konuşmayın."}),(0,t.jsx)("p",{children:"4. Kişisel bilgilerinizi (telefon numarası, adres vb.) paylaşmayın."}),(0,t.jsx)("p",{children:"5. Reklam veya tanıtım yapmayın."})]}),(0,t.jsx)("div",{className:"mt-4 text-sm text-gray-400",children:(0,t.jsx)("p",{children:"Kurallara uymayan kullanıcılar ge\xe7ici veya kalıcı olarak engellenebilir. Engelleme kararları tamamen site y\xf6netiminin takdirindedir."})})]})]}),M&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Kullanıcıyı Engelle"}),(0,t.jsx)("p",{className:"text-gray-300 mb-4",children:"Bu kullanıcıyı sohbetten engellemek istediğinize emin misiniz? Engellenen kullanıcılar sohbete mesaj g\xf6nderemezler."}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Engelleme Nedeni (opsiyonel)"}),(0,t.jsx)("textarea",{value:B,onChange:e=>L(e.target.value),className:"w-full bg-gray-700 text-white rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Kullanıcının neden engellendiğini belirtin..."})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:()=>{K(!1),E(null),L("")},className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600",children:"İptal"}),(0,t.jsxs)("button",{onClick:()=>{A&&(b(f.map(e=>e.id===A?{...e,isBanned:!0,banReason:B||"Kural ihlali"}:e)),K(!1),E(null),L(""),j.default.success("Kullanıcı başarıyla engellendi."))},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center",children:[(0,t.jsx)(o.Z,{size:16,className:"mr-1.5"}),"Engelle"]})]})]})})]})}},5561:function(e,s,a){"use strict";var t,l;a.d(s,{X:function(){return t}}),(l=t||(t={})).ADMIN="admin",l.VIP="vip",l.NORMAL="normal"}},function(e){e.O(0,[8240,703,8792,8009,5947,2971,8069,1744],function(){return e(e.s=3002)}),_N_E=e.O()}]);