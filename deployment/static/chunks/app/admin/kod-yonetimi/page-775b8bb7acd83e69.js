(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6563],{6863:function(e,t,l){Promise.resolve().then(l.bind(l,7726))},1524:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},9259:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},489:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7726:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return y}});var s=l(3827),a=l(4090),r=l(5947),n=l(5494),d=l(1524),i=l(7461);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var o=l(9259);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,i.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var x=l(489);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,i.Z)("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);var m=l(3484),g=l(9644),p=l(8009);function y(){let{user:e,loading:t}=(0,r.useAuth)(),[l,i]=(0,a.useState)([]),[y,f]=(0,a.useState)(!1),[b,j]=(0,a.useState)(""),[N,v]=(0,a.useState)(10),[k,w]=(0,a.useState)(""),[C,U]=(0,a.useState)(!0),[K,Z]=(0,a.useState)(""),[S,A]=(0,a.useState)(null);(0,a.useEffect)(()=>{{let e=localStorage.getItem("redemptionCodes");e&&i(JSON.parse(e))}},[]),(0,a.useEffect)(()=>{l.length>0&&localStorage.setItem("redemptionCodes",JSON.stringify(l))},[l]);let M=l.filter(e=>e.code.toLowerCase().includes(K.toLowerCase())||e.description&&e.description.toLowerCase().includes(K.toLowerCase())),D=()=>{let e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",t="";for(let l=0;l<8;l++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},O=e=>{i(l.filter(t=>t.id!==e)),p.default.success("Kod başarıyla silindi")},E=(e,t)=>{navigator.clipboard.writeText(e).then(()=>{A(t),setTimeout(()=>A(null),2e3),p.default.success("Kod panoya kopyalandı")}).catch(()=>{p.default.error("Kod kopyalanamadı")})},V=e=>new Date(e).toLocaleString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return t?(0,s.jsx)(n.Z,{children:(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-8 flex justify-center items-center",children:(0,s.jsx)("p",{children:"Y\xfckleniyor..."})})}):e&&"admin"===e.rank?(0,s.jsxs)(n.Z,{children:[(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-4 md:p-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Kod Y\xf6netimi"}),(0,s.jsxs)("button",{onClick:()=>{f(!0),U(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,s.jsx)(c,{className:"w-5 h-5 mr-2"}),"Yeni Kod Oluştur"]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 mb-6",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("input",{type:"text",placeholder:"Kod ara...",value:K,onChange:e=>Z(e.target.value),className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"text-gray-400 uppercase bg-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 rounded-tl-lg",children:"Kod"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Puan Değeri"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Durum"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"A\xe7ıklama"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Oluşturulma Tarihi"}),(0,s.jsx)("th",{className:"px-4 py-3",children:"Kullanıldı"}),(0,s.jsx)("th",{className:"px-4 py-3 rounded-tr-lg",children:"İşlemler"})]})}),(0,s.jsx)("tbody",{children:M.length>0?M.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-700 hover:bg-gray-700",children:[(0,s.jsx)("td",{className:"px-4 py-3 font-medium",children:(0,s.jsxs)("div",{className:"flex items-center",children:[e.code,(0,s.jsx)("button",{onClick:()=>E(e.code,e.id),className:"ml-2 text-gray-400 hover:text-white",title:"Kodu kopyala",children:S===e.id?(0,s.jsx)(o.Z,{className:"w-4 h-4 text-green-500"}):(0,s.jsx)(u,{className:"w-4 h-4"})})]})}),(0,s.jsxs)("td",{className:"px-4 py-3 text-yellow-400 font-medium",children:[e.pointValue," JP"]}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.isUsed?"bg-red-900 text-red-300":"bg-green-900 text-green-300"),children:e.isUsed?"Kullanıldı":"Aktif"})}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.description||"-"}),(0,s.jsx)("td",{className:"px-4 py-3 text-gray-400",children:V(e.createdAt)}),(0,s.jsx)("td",{className:"px-4 py-3 text-gray-400",children:e.isUsed&&e.usedAt?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:V(e.usedAt)}),(0,s.jsx)("div",{className:"text-xs",children:e.usedBy||"Bilinmiyor"})]}):"-"}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("button",{onClick:()=>O(e.id),className:"text-red-400 hover:text-red-300",title:"Kodu sil",children:(0,s.jsx)(x.Z,{className:"w-5 h-5"})})})]},e.id)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"px-4 py-6 text-center text-gray-400",children:K?"Arama kriterlerine uygun kod bulunamadı.":"Hen\xfcz kod oluşturulmamış."})})})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Toplam Kod"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:l.length})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Aktif Kodlar"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-green-400",children:l.filter(e=>!e.isUsed).length})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Kullanılmış Kodlar"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-red-400",children:l.filter(e=>e.isUsed).length})]})]})]})}),y&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 max-w-md w-full mx-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Yeni Kod Oluştur"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-400 mb-2",children:"Kod"}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("input",{type:"text",value:b,onChange:e=>j(e.target.value.toUpperCase()),placeholder:C?"Otomatik oluşturulacak":"Kodu girin",className:"flex-1 bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:C}),(0,s.jsx)("button",{onClick:()=>U(!C),className:"ml-2 bg-gray-600 hover:bg-gray-500 px-3 py-2 rounded-lg",title:C?"Manuel kod gir":"Otomatik oluştur",children:C?(0,s.jsx)(h,{className:"w-5 h-5"}):(0,s.jsx)(m.Z,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-400 mb-2",children:"Puan Değeri"}),(0,s.jsx)("input",{type:"number",value:N,onChange:e=>v(Number(e.target.value)),min:"1",className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-gray-400 mb-2",children:"A\xe7ıklama (Opsiyonel)"}),(0,s.jsx)("input",{type:"text",value:k,onChange:e=>w(e.target.value),placeholder:"Bu kodla ilgili not",className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)("button",{onClick:()=>f(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"İptal"}),(0,s.jsx)("button",{onClick:()=>{let e=b||D();if(l.some(t=>t.code===e)){p.default.error("Bu kod zaten mevcut!");return}i([...l,{id:(0,g.Z)(),code:e,pointValue:N,isUsed:!1,createdAt:Date.now(),description:k}]),f(!1),j(""),v(10),w(""),p.default.success("Kod başarıyla oluşturuldu: ".concat(e))},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Oluştur"})]})]})})]}):(0,s.jsx)(n.Z,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-8 flex flex-col justify-center items-center",children:[(0,s.jsx)(d.Z,{className:"w-16 h-16 text-yellow-500 mb-4"}),(0,s.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Erişim Reddedildi"}),(0,s.jsx)("p",{children:"Bu sayfayı g\xf6r\xfcnt\xfclemek i\xe7in admin yetkiniz olmalıdır."})]})})}},9644:function(e,t,l){"use strict";let s;l.d(t,{Z:function(){return d}});var a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let r=new Uint8Array(16),n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));var d=function(e,t,l){var d,i,c;if(a.randomUUID&&!t&&!e)return a.randomUUID();let o=null!==(c=null!==(i=(e=e||{}).random)&&void 0!==i?i:null===(d=e.rng)||void 0===d?void 0:d.call(e))&&void 0!==c?c:function(){if(!s){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(r)}();if(o.length<16)throw Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((l=l||0)<0||l+16>t.length)throw RangeError("UUID byte range ".concat(l,":").concat(l+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[l+e]=o[e];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}(o)}}},function(e){e.O(0,[8240,703,8792,3755,8009,5947,5494,2971,8069,1744],function(){return e(e.s=6863)}),_N_E=e.O()}]);