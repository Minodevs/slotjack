(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2135],{2781:function(e,t,a){Promise.resolve().then(a.bind(a,3285))},3285:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return K}});var r=a(3827),s=a(4090),l=a(5947),i=a(7907),n=a(8792),o=a(5561),c=a(703),d=a(9108),m=a(8670),u=a(94),x=a(7307),g=a(6490),b=a(2457),p=a(4059),h=a(8998),y=a(9295),f=a(489),k=a(2235),j=a(1780),N=a(3195),v=a(7336),w=a(7451),S=a(834),D=a(244),E=a(632),z=a(7330),L=a(6578),C=a(699),Z=a(8435),I=a(1737),G=a(5494),A=a(8009);let B=[{value:"nakit",label:"Nakit Etkinlik"},{value:"freespin",label:"Freespin Etkinliği"},{value:"bonus",label:"Bonus Etkinliği"},{value:"ozel",label:"\xd6zel Etkinlik"},{value:"kayit",label:"Kayıt Etkinliği"}],T=[{id:"sportsbet",name:"Sportsbet.io",logo:"/partner-logos/sportsbet.png"},{id:"isisbet",name:"IsIsBet",logo:"/partner-logos/isisbet.png"},{id:"gambi",name:"GAMBİ",logo:"/partner-logos/gambi.png"},{id:"efesbet",name:"Efesbet",logo:"/partner-logos/efesbet.png"},{id:"zlot",name:"Zlot",logo:"/partner-logos/zlot.png"},{id:"betnano",name:"Betnano",logo:"/partner-logos/betnano.png"}],O="slotjack_events",M=[{id:"1",title:"SPORTSBET.IO X SLOTJACK \xd6ZEL NAKİT ETKİNLİĞİ",subtitle:"\xd6zel Nakit Etkinliği",image:"/images/events/sportsbet-event.jpg",date:new Date("2023-08-15T14:00:00"),endDate:new Date("2023-08-15T20:00:00"),location:"Online",description:"Sportsbet.io ile ortak nakit etkinliğimize katılın ve b\xfcy\xfck \xf6d\xfclleri kazanma şansı yakalayın.",category:"nakit",backgroundGradient:"from-green-500 to-blue-500",partnerId:"sportsbet",partnerName:"Sportsbet.io",partnerLogo:"/partner-logos/sportsbet.png",featured:!0,capacity:500,ticketsAvailable:!0,stats:{available:11,participating:28,limit:20,prizePool:99999}},{id:"2",title:"ISISBET X SLOTJACK \xd6ZEL NAKİT ETKİNLİĞİ",subtitle:"\xd6zel Nakit Etkinliği",image:"/images/events/isisbet-event.jpg",date:new Date("2023-08-16T16:00:00"),endDate:new Date("2023-08-16T18:30:00"),location:"Online",description:"IsIsBet ile \xf6zel nakit etkinliği. Katılın ve b\xfcy\xfck \xf6d\xfcller kazanma fırsatını ka\xe7ırmayın.",category:"nakit",backgroundGradient:"from-pink-500 to-purple-500",partnerId:"isisbet",partnerName:"IsIsBet",partnerLogo:"/partner-logos/isisbet.png",featured:!0,capacity:300,ticketsAvailable:!1,stats:{available:0,participating:0,limit:0,prizePool:99999}},{id:"3",title:"GAMBİ X SLOTJACK \xd6ZEL FS ETKİNLİĞİ",subtitle:"\xd6zel Freespin Etkinliği",image:"/images/events/gambi-event.jpg",date:new Date("2023-08-17T11:00:00"),endDate:new Date("2023-08-17T12:30:00"),location:"Online",description:"GAMBİ ile freespin etkinliğimize katılın. İlk oynayanlar i\xe7in \xf6zel bonuslar.",category:"freespin",backgroundGradient:"from-green-400 to-teal-500",partnerId:"gambi",partnerName:"GAMBİ",partnerLogo:"/partner-logos/gambi.png",featured:!1,capacity:150,ticketsAvailable:!0,stats:{available:0,participating:0,limit:0,prizePool:99999}}],P=[{id:"sportsbet",name:"Sportsbet.io",src:"/etkinlikimg/sportsbet.png"},{id:"isisbet",name:"IsIsBet",src:"/etkinlikimg/isiabet.png"},{id:"gambi",name:"GAMBİ",src:"/etkinlikimg/gambi.png"},{id:"efesbet",name:"Efesbet",src:"/etkinlikimg/efesbet.png"},{id:"zlot",name:"Zlot",src:"/etkinlikimg/zlat.png"},{id:"betnano",name:"Betnano",src:"/etkinlikimg/betnano.png"},{id:"rocket",name:"Roket",src:"/rocket.png"},{id:"fortune-wheel",name:"\xc7ark",src:"/fortune-wheel.png"},{id:"gift-box",name:"Hediye",src:"/gift-box.png"}];function K(){let e=(0,i.useRouter)(),t=(0,l.useAuth)(),[a,K]=(0,s.useState)(!0),[R,F]=(0,s.useState)([]),[Y,U]=(0,s.useState)(""),[H,J]=(0,s.useState)(!1),[W,q]=(0,s.useState)(null),[_,X]=(0,s.useState)(null),[Q,V]=(0,s.useState)(!1),$=(0,s.useRef)(null),[ee,et]=(0,s.useState)({title:"",subtitle:"",date:"",endDate:"",location:"",description:"",category:"",backgroundGradient:"",partnerId:"",partnerName:"",partnerLogo:"",image:"",featured:!1,capacity:0,ticketsAvailable:!1,availableStats:0,participatingStats:0,limitStats:0,prizePoolStats:0}),[ea,er]=(0,s.useState)("preloaded"),[es,el]=(0,s.useState)(null),[ei,en]=(0,s.useState)(!1),[eo,ec]=(0,s.useState)(2);if(!t)throw Error("AuthContext is undefined");let{user:ed}=t;(0,s.useEffect)(()=>{if(!a&&(!ed||ed.rank!==o.X.ADMIN)){e.push("/");return}ed&&K(!1)},[ed,a,e]),(0,s.useEffect)(()=>{let e=()=>{try{console.log("Loading events from localStorage...");let e=localStorage.getItem(O);if(e){console.log("Found stored events:",e);let t=JSON.parse(e).map(e=>{try{return{...e,date:new Date(e.date),endDate:new Date(e.endDate)}}catch(t){return console.error("Error converting date for event:",e.id,t),{...e,date:new Date,endDate:new Date}}});F(t)}else console.log("No stored events found, initializing with demo events"),localStorage.setItem(O,JSON.stringify(M.map(e=>({...e,date:e.date.toISOString(),endDate:e.endDate.toISOString()})))),F(M)}catch(e){console.error("Error loading events from localStorage:",e),F(M)}};a||e();let t=t=>{t.key===O&&(console.log("Storage event detected, reloading events"),e())};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[a]),(0,s.useCallback)(()=>{try{let e=localStorage.getItem(O);if(e){let t=JSON.parse(e).map(e=>{try{return{...e,date:new Date(e.date),endDate:new Date(e.endDate)}}catch(t){return console.error("Error converting date for event:",e.id,t),{...e,date:new Date,endDate:new Date}}});F(t)}}catch(e){console.error("Error refreshing events:",e),A.default.error("Etkinlikler y\xfcklenirken bir hata oluştu.")}},[]);let em=R.filter(e=>""===Y||e.title.toLowerCase().includes(Y.toLowerCase())||e.location.toLowerCase().includes(Y.toLowerCase())||e.description.toLowerCase().includes(Y.toLowerCase())||e.category.toLowerCase().includes(Y.toLowerCase())||e.partnerName.toLowerCase().includes(Y.toLowerCase())),eu=e=>{try{return(0,Z.WU)(e,"dd MMMM yyyy, HH:mm",{locale:I.tr})}catch(e){return console.error("Error formatting date:",e),"Invalid Date"}},ex=e=>{try{return(0,Z.WU)(e,"yyyy-MM-dd'T'HH:mm")}catch(e){return console.error("Error formatting input date:",e),""}},eg=e=>{try{return(0,Z.WU)(e,"HH:mm")}catch(e){return console.error("Error formatting time:",e),"--:--"}},eb=e=>{let t=B.find(t=>t.value===e);return t?t.label:e},ep=e=>T.find(t=>t.id===e)||{id:e,name:e,logo:""};(0,s.useEffect)(()=>{let e=()=>{window.innerWidth<640?ec(2):window.innerWidth<1024?ec(3):ec(4)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let eh=(0,s.useCallback)(e=>{e.preventDefault(),V(!0)},[]),ey=(0,s.useCallback)(e=>{e.preventDefault(),V(!1)},[]),ef=(0,s.useCallback)(e=>{e.preventDefault(),V(!1);let t=e.dataTransfer.files[0];if(!t)return;if(!t.type.startsWith("image/")){el("L\xfctfen sadece g\xf6rsel dosyası se\xe7in."),A.default.error("Ge\xe7ersiz dosya t\xfcr\xfc! L\xfctfen g\xf6rsel dosyası se\xe7in.");return}if(t.size>5242880){el("Dosya boyutu \xe7ok b\xfcy\xfck. En fazla 5MB y\xfckleyebilirsiniz."),A.default.error("Dosya boyutu \xe7ok b\xfcy\xfck! En fazla 5MB y\xfckleyebilirsiniz.");return}el(null),en(!0);let a=new FileReader;a.onload=e=>{var t;let a=null===(t=e.target)||void 0===t?void 0:t.result;X(a),et(e=>({...e,image:a})),en(!1),A.default.success("G\xf6rsel başarıyla y\xfcklendi.")},a.onerror=()=>{el("Dosya okuma hatası. L\xfctfen tekrar deneyin."),en(!1),A.default.error("Dosya okuma hatası oluştu.")},a.readAsDataURL(t)},[]),ek=e=>{en(!0),X(e),et(t=>({...t,image:e})),el(null),en(!1),A.default.success("G\xf6rsel se\xe7ildi.")},ej=()=>{$.current&&$.current.click()},eN=()=>{q(null),et({title:"",subtitle:"",date:"",endDate:"",location:"",description:"",category:"",backgroundGradient:"from-blue-400 to-cyan-300",partnerId:"",partnerName:"",partnerLogo:"",image:"",featured:!1,capacity:100,ticketsAvailable:!0,availableStats:0,participatingStats:0,limitStats:0,prizePoolStats:0}),X(null),J(!0)},ev=e=>{q(e.id),et({title:e.title,subtitle:e.subtitle,date:ex(e.date),endDate:ex(e.endDate),location:e.location,description:e.description,category:e.category,backgroundGradient:e.backgroundGradient,partnerId:e.partnerId,partnerName:e.partnerName,partnerLogo:e.partnerLogo,image:e.image,featured:e.featured,capacity:e.capacity,ticketsAvailable:e.ticketsAvailable,availableStats:e.stats.available,participatingStats:e.stats.participating,limitStats:e.stats.limit,prizePoolStats:e.stats.prizePool}),X(e.image),J(!0)},ew=e=>{if(confirm("Bu etkinliği silmek istediğinizden emin misiniz?"))try{let t=localStorage.getItem(O);if(t){let a=JSON.parse(t).filter(t=>t.id!==e);localStorage.setItem(O,JSON.stringify(a)),A.default.success("Etkinlik başarıyla silindi!"),window.location.reload()}}catch(e){console.error("Error deleting event:",e),A.default.error("Etkinlik silinirken bir hata oluştu.")}},eS=e=>{let{name:t,value:a,type:r}=e.target;if("checkbox"===r){let a=e.target.checked;et(e=>({...e,[t]:a}))}else if("partnerId"===t){let e=ep(a);et(r=>({...r,[t]:a,partnerName:e.name,partnerLogo:e.logo}))}else et(e=>({...e,[t]:a}))};return a?(0,r.jsx)(G.Z,{children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-t-blue-500 border-blue-200 rounded-full animate-spin mb-4 mx-auto"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Y\xfckleniyor..."})]})})}):(0,r.jsx)(G.Z,{children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.default,{href:"/admin",className:"flex items-center text-blue-400 hover:text-blue-300 mb-2",children:[(0,r.jsx)(d.Z,{className:"w-5 h-5 mr-1"})," Admin Paneline D\xf6n"]}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Etkinlik Y\xf6netimi"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Etkinlikleri ekle, d\xfczenle veya sil"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Etkinlik ara...",className:"bg-gray-700 text-white px-4 py-2 pl-10 rounded-md w-64 focus:outline-none focus:ring-2 focus:ring-blue-500",value:Y,onChange:e=>U(e.target.value)}),(0,r.jsx)(m.Z,{className:"w-5 h-5 text-gray-400 absolute left-3 top-2.5"})]}),(0,r.jsxs)("button",{onClick:eN,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md flex items-center",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5 mr-1"})," Yeni Etkinlik"]})]})]}),em.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:em.map(e=>(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700 hover:border-gray-600 transition-colors flex flex-col",children:[(0,r.jsxs)("div",{className:"p-4 bg-gray-750 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"w-3 h-3 rounded-full mr-2 ".concat("tournament"===e.category?"bg-red-400":"panel"===e.category?"bg-blue-400":"competition"===e.category?"bg-yellow-400":"meetup"===e.category?"bg-green-400":"concert"===e.category?"bg-purple-400":"bg-indigo-400")}),(0,r.jsx)("span",{className:"text-gray-300 text-sm font-medium",children:eb(e.category)})]}),e.featured&&(0,r.jsx)("span",{className:"bg-blue-500 text-xs text-white px-2 py-0.5 rounded",children:"\xd6ne \xc7ıkan"})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row flex-grow",children:[(0,r.jsx)("div",{className:"w-full md:w-1/3 h-48 md:h-auto relative bg-gray-750",children:e.image?(0,r.jsx)(c.default,{src:e.image,alt:e.title,fill:!0,style:{objectFit:"cover"}}):(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsx)(x.Z,{className:"w-16 h-16 text-gray-500"})})}),(0,r.jsxs)("div",{className:"p-6 flex-grow flex flex-col",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:e.title}),(0,r.jsxs)("div",{className:"space-y-2 mb-4 text-sm flex-grow",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-2 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-gray-300",children:eu(e.date)})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-2 flex-shrink-0"}),(0,r.jsxs)("span",{className:"text-gray-300",children:[eg(e.date)," - ",eg(e.endDate)]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-2 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-gray-300",children:e.location})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-2 flex-shrink-0"}),(0,r.jsxs)("span",{className:"text-gray-300",children:["Kapasite: ",e.capacity," kişi"]})]}),!e.ticketsAvailable&&(0,r.jsxs)("div",{className:"flex items-start text-amber-400",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0"}),(0,r.jsx)("span",{children:"Bilet satışı kapalı"})]})]}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 mt-auto",children:[(0,r.jsxs)("button",{onClick:()=>ev(e),className:"p-1.5 bg-blue-500 rounded hover:bg-blue-600 text-white flex items-center",title:"D\xfczenle",children:[(0,r.jsx)(y.Z,{className:"w-4 h-4 mr-1"}),(0,r.jsx)("span",{children:"D\xfczenle"})]}),(0,r.jsxs)("button",{onClick:()=>ew(e.id),className:"p-1.5 bg-red-500 rounded hover:bg-red-600 text-white flex items-center",title:"Sil",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4 mr-1"}),(0,r.jsx)("span",{children:"Sil"})]})]})]})]})]},e.id))}):(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[(0,r.jsx)(x.Z,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-white font-medium mb-1",children:"Hen\xfcz etkinlik bulunmuyor"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Yeni etkinlik ekleyerek başlayabilirsiniz."}),(0,r.jsxs)("button",{onClick:eN,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md inline-flex items-center",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5 mr-1"})," Yeni Etkinlik Ekle"]})]}),H&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg w-full max-w-4xl my-8",children:[(0,r.jsxs)("div",{className:"p-4 bg-gray-700 flex justify-between items-center rounded-t-lg",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-white flex items-center",children:[(0,r.jsx)(x.Z,{className:"w-5 h-5 mr-2"}),W?"Etkinliği D\xfczenle":"Yeni Etkinlik Ekle"]}),(0,r.jsx)("button",{onClick:()=>J(!1),className:"p-1 rounded hover:bg-gray-600",children:(0,r.jsx)(k.Z,{className:"w-5 h-5 text-gray-300"})})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();try{let e;if(!ee.title.trim()){A.default.error("Etkinlik adını girin.");return}if(!ee.date||!ee.endDate){A.default.error("Başlangı\xe7 ve bitiş tarihlerini girin.");return}let t=new Date(ee.date),a=new Date(ee.endDate);if(isNaN(t.getTime())||isNaN(a.getTime())){A.default.error("Ge\xe7ersiz tarih formatı.");return}if(a<=t){A.default.error("Bitiş tarihi başlangı\xe7 tarihinden sonra olmalıdır.");return}let r={id:W||String(Date.now()),title:ee.title,subtitle:ee.subtitle||"",image:ee.image||"",date:t.toISOString(),endDate:a.toISOString(),location:ee.location||"Online",description:ee.description||"",category:ee.category||"nakit",backgroundGradient:ee.backgroundGradient||"from-blue-400 to-cyan-300",partnerId:ee.partnerId||"",partnerName:ee.partnerName||"",partnerLogo:ee.partnerLogo||"",featured:!!ee.featured,capacity:Number(ee.capacity)||100,ticketsAvailable:!!ee.ticketsAvailable,stats:{available:Number(ee.availableStats)||0,participating:Number(ee.participatingStats)||0,limit:Number(ee.limitStats)||0,prizePool:Number(ee.prizePoolStats)||0}},s=localStorage.getItem(O)||"[]",l=JSON.parse(s);W?(e=l.map(e=>e.id===W?r:e),A.default.success("Etkinlik başarıyla g\xfcncellendi!")):(e=[...l,r],A.default.success("Yeni etkinlik başarıyla eklendi!")),localStorage.setItem(O,JSON.stringify(e)),J(!1),window.location.reload()}catch(e){console.error("Form submission error:",e),A.default.error("Bir hata oluştu. L\xfctfen formu kontrol edin ve tekrar deneyin.")}},className:"p-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Etkinlik Adı"}),(0,r.jsx)("input",{type:"text",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:ee.title,onChange:eS,name:"title",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Başlangı\xe7 Tarihi ve Saati"}),(0,r.jsx)("input",{type:"datetime-local",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:ee.date,onChange:eS,name:"date",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Bitiş Tarihi ve Saati"}),(0,r.jsx)("input",{type:"datetime-local",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:ee.endDate,onChange:eS,name:"endDate",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Konum"}),(0,r.jsx)("input",{type:"text",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:ee.location,onChange:eS,name:"location",required:!0,placeholder:"\xd6rn: Ana Sahne, Panel Salonu, etc."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Kategori"}),(0,r.jsxs)("select",{className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:ee.category,onChange:eS,name:"category",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Kategori Se\xe7in"}),B.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Partner"}),(0,r.jsxs)("select",{className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:ee.partnerId,onChange:eS,name:"partnerId",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Partner Se\xe7in"}),T.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Kapasite"}),(0,r.jsx)("input",{type:"number",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:ee.capacity,onChange:e=>{let{name:t,value:a}=e.target;et(e=>({...e,[t]:parseInt(a)||0}))},name:"capacity",required:!0,min:"1"})]}),(0,r.jsxs)("div",{className:"md:col-span-2 mb-3",children:[(0,r.jsxs)("label",{className:"block text-white mb-1 flex items-center",children:[(0,r.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Etkinlik G\xf6rseli"]}),(0,r.jsxs)("div",{className:"flex border-b border-gray-700 mb-4",children:[(0,r.jsxs)("button",{type:"button",className:"py-2 px-4 mr-2 focus:outline-none ".concat("preloaded"===ea?"text-blue-500 border-b-2 border-blue-500 font-medium":"text-gray-400 hover:text-gray-300"),onClick:()=>er("preloaded"),children:[(0,r.jsx)(N.Z,{className:"w-4 h-4 inline-block mr-1"}),"Hazır G\xf6rseller"]}),(0,r.jsxs)("button",{type:"button",className:"py-2 px-4 mr-2 focus:outline-none ".concat("upload"===ea?"text-blue-500 border-b-2 border-blue-500 font-medium":"text-gray-400 hover:text-gray-300"),onClick:()=>er("upload"),children:[(0,r.jsx)(v.Z,{className:"w-4 h-4 inline-block mr-1"}),"Y\xfckle"]}),(0,r.jsxs)("button",{type:"button",className:"py-2 px-4 focus:outline-none ".concat("url"===ea?"text-blue-500 border-b-2 border-blue-500 font-medium":"text-gray-400 hover:text-gray-300"),onClick:()=>er("url"),children:[(0,r.jsx)(w.Z,{className:"w-4 h-4 inline-block mr-1"}),"URL"]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,r.jsxs)("div",{className:"mb-2 text-gray-300 text-sm font-medium flex justify-between items-center",children:[(0,r.jsx)("span",{children:"\xd6nizleme"}),_&&(0,r.jsxs)("button",{type:"button",onClick:()=>{X(null),et(e=>({...e,image:""}))},className:"text-gray-400 hover:text-red-400 text-xs flex items-center",children:[(0,r.jsx)(k.Z,{className:"w-3 h-3 mr-1"})," Temizle"]})]}),(0,r.jsxs)("div",{className:"h-36 md:h-48 border-2 border-dashed ".concat(Q?"border-blue-500 bg-blue-500/10":_?"border-gray-500":"border-gray-600"," rounded-lg flex flex-col items-center justify-center relative overflow-hidden ").concat("upload"===ea?"cursor-pointer":""," transition-all"),onDragOver:"upload"===ea?eh:void 0,onDragLeave:"upload"===ea?ey:void 0,onDrop:"upload"===ea?ef:void 0,onClick:"upload"===ea?ej:void 0,children:[ei?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)(S.Z,{className:"w-10 h-10 text-blue-400 animate-spin mb-2"}),(0,r.jsx)("p",{className:"text-gray-300 text-sm",children:"G\xf6rsel y\xfckleniyor..."})]}):_?(0,r.jsxs)("div",{className:"relative w-full h-full",children:[(0,r.jsx)(c.default,{src:_,alt:"Event image preview",fill:!0,style:{objectFit:"contain"},className:"rounded-lg p-2",onError:()=>{el("G\xf6rsel y\xfcklenemedi. URL ge\xe7ersiz olabilir.")}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 hover:opacity-100 flex items-center justify-center transition-opacity",children:"upload"===ea&&(0,r.jsx)("p",{className:"text-white bg-gray-900 bg-opacity-75 px-2 py-1 rounded text-sm",children:"Değiştirmek i\xe7in tıklayın"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Z,{className:"w-10 h-10 text-gray-500 mb-2"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm text-center",children:"upload"===ea?"G\xf6rsel y\xfcklemek i\xe7in tıklayın veya dosyayı s\xfcr\xfckleyin":"url"===ea?"URL girin":"Hazır g\xf6rsellerden se\xe7in"})]}),"upload"===ea&&(0,r.jsx)("input",{type:"file",ref:$,onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;if(!a.type.startsWith("image/")){el("L\xfctfen sadece g\xf6rsel dosyası se\xe7in."),A.default.error("Ge\xe7ersiz dosya t\xfcr\xfc! L\xfctfen g\xf6rsel dosyası se\xe7in.");return}if(a.size>5242880){el("Dosya boyutu \xe7ok b\xfcy\xfck. En fazla 5MB y\xfckleyebilirsiniz."),A.default.error("Dosya boyutu \xe7ok b\xfcy\xfck! En fazla 5MB y\xfckleyebilirsiniz.");return}el(null),en(!0);let r=new FileReader;r.onload=e=>{var t;let a=null===(t=e.target)||void 0===t?void 0:t.result;X(a),et(e=>({...e,image:a})),en(!1),A.default.success("G\xf6rsel başarıyla y\xfcklendi.")},r.onerror=()=>{el("Dosya okuma hatası. L\xfctfen tekrar deneyin."),en(!1),A.default.error("Dosya okuma hatası oluştu.")},r.readAsDataURL(a)},accept:"image/*",className:"hidden"})]}),es&&(0,r.jsx)("div",{className:"mt-2 p-2 bg-red-900/40 border border-red-800 rounded-md",children:(0,r.jsxs)("p",{className:"text-red-300 text-xs flex items-center",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4 mr-1 flex-shrink-0"}),es]})}),_&&_.startsWith("data:")&&(0,r.jsx)("div",{className:"mt-2 p-2 bg-yellow-900/30 border border-yellow-800 rounded-md",children:(0,r.jsxs)("p",{className:"text-yellow-200 text-xs flex items-center",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4 mr-1 flex-shrink-0"}),"Bu dosya ge\xe7ici olarak eklendi. Kalıcı bir \xe7\xf6z\xfcm i\xe7in g\xf6rselinizi sunucuya y\xfckleyin."]})}),_&&!_.startsWith("data:")&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsxs)("p",{className:"text-gray-400 text-xs truncate flex items-center",children:[(0,r.jsx)(D.Z,{className:"w-3 h-3 mr-1 flex-shrink-0"}),_]})})]}),(0,r.jsxs)("div",{className:"w-full md:w-1/2",children:["url"===ea&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(w.Z,{className:"w-4 h-4 mr-1"})," G\xf6rsel URL"]})}),(0,r.jsx)("input",{type:"text",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",value:ee.image,onChange:e=>{let t=e.target.value;et(e=>({...e,image:t})),el(null),t?(en(!0),X(t)):X(null),en(!1)},placeholder:"https://... veya /etkinlikimg/..."})]}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"G\xf6rsel i\xe7in bir URL girin. Tam veya g\xf6receli URL kullanabilirsiniz."}),(0,r.jsxs)("div",{className:"mt-3 p-2 bg-gray-700 rounded-md",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-300 mb-1 font-medium flex items-center",children:[(0,r.jsx)(D.Z,{className:"w-4 h-4 mr-1"})," URL \xd6rnekleri"]}),(0,r.jsxs)("ul",{className:"text-xs text-gray-400 space-y-1 list-disc pl-5",children:[(0,r.jsx)("li",{children:"External: https://example.com/image.jpg"}),(0,r.jsx)("li",{children:"Internal: /etkinlikimg/sportsbet.png"}),(0,r.jsx)("li",{children:"Generic: /rocket.png"})]})]})]}),"upload"===ea&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(v.Z,{className:"w-4 h-4 mr-1"})," Dosyadan Y\xfckle"]})}),(0,r.jsxs)("div",{className:"w-full h-20 bg-gray-700 border border-gray-600 rounded-md flex flex-col items-center justify-center cursor-pointer hover:bg-gray-650 transition-colors",onClick:ej,children:[(0,r.jsx)(E.Z,{className:"w-5 h-5 text-gray-400 mb-1"}),(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Dosya se\xe7mek i\xe7in tıklayın"})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Desteklenen formatlar: JPG, PNG, GIF, WEBP. Maksimum 5MB."}),(0,r.jsxs)("div",{className:"mt-3 p-2 bg-gray-700 rounded-md",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-300 mb-1 font-medium flex items-center",children:[(0,r.jsx)(z.Z,{className:"w-4 h-4 mr-1"})," Y\xfckleme İpu\xe7ları"]}),(0,r.jsxs)("ul",{className:"text-xs text-gray-400 space-y-1 list-disc pl-5",children:[(0,r.jsx)("li",{children:"En iyi g\xf6r\xfcn\xfcm i\xe7in 16:9 en boy oranını kullanın"}),(0,r.jsx)("li",{children:"Banner g\xf6rselleri i\xe7in \xf6nerilen boyut: 1280\xd7720px"}),(0,r.jsx)("li",{children:"Sol paneye dosya s\xfcr\xfckleyip bırakabilirsiniz"}),(0,r.jsx)("li",{children:"G\xf6rsel y\xfcklendikten sonra etkinlik kaydedildiğinde kalıcı olacaktır"})]})]}),(0,r.jsx)("div",{className:"flex justify-center mt-4",children:(0,r.jsxs)("button",{type:"button",onClick:ej,className:"bg-blue-500 hover:bg-blue-600 text-white text-sm px-3 py-1.5 rounded-md flex items-center",children:[(0,r.jsx)(E.Z,{className:"w-4 h-4 mr-1.5"}),"Bilgisayardan Se\xe7"]})})]}),"preloaded"===ea&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsxs)("label",{className:"block text-gray-300 text-sm font-medium mb-1 flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(N.Z,{className:"w-4 h-4 mr-1"})," Hazır G\xf6rsellerden Se\xe7in"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>ec(4===eo?2:eo+1),className:"p-1 text-xs text-gray-400 hover:text-gray-300 flex items-center",title:"G\xf6r\xfcn\xfcm\xfc değiştir",children:[(0,r.jsx)(N.Z,{className:"w-3 h-3 mr-1"}),eo,"x"]})]})}),(0,r.jsx)("div",{className:"grid grid-cols-".concat(eo," gap-3 max-h-52 overflow-y-auto pr-1 custom-scrollbar"),style:{gridTemplateColumns:"repeat(".concat(eo,", minmax(0, 1fr))"),scrollbarWidth:"thin"},children:P.map(e=>(0,r.jsxs)("div",{className:"relative rounded-md overflow-hidden border-2 cursor-pointer transition-all ".concat(ee.image===e.src?"border-blue-500 shadow-md shadow-blue-500/20":"border-gray-700 hover:border-gray-500"),onClick:()=>ek(e.src),children:[(0,r.jsx)("div",{className:"relative h-18 w-full bg-black/20",children:(0,r.jsx)(c.default,{src:e.src,alt:e.name,fill:!0,style:{objectFit:"contain",padding:"4px"},onError:e=>{e.target.src="/placeholder-icon.svg"}})}),(0,r.jsxs)("div",{className:"p-1 text-center bg-gray-700 text-xs truncate flex justify-between items-center",children:[(0,r.jsx)("span",{className:"truncate",children:e.name}),ee.image===e.src&&(0,r.jsx)(L.Z,{className:"w-3 h-3 text-blue-400 flex-shrink-0"})]})]},e.id))}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-3",children:"Yukarıdaki g\xf6rsellerden birini se\xe7in veya diğer sekmeleri kullanarak kendi g\xf6rselinizi ekleyin."}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{A.default.success("G\xf6rsel listesi yenilendi.")},className:"text-gray-400 hover:text-blue-400 text-xs flex items-center",children:[(0,r.jsx)(S.Z,{className:"w-3 h-3 mr-1"})," Listeyi Yenile"]}),(0,r.jsxs)("a",{href:"/admin/upload",className:"text-gray-400 hover:text-green-400 text-xs flex items-center",target:"_blank",children:[(0,r.jsx)(E.Z,{className:"w-3 h-3 mr-1"})," Yeni G\xf6rsel Y\xfckle"]})]})]}),(0,r.jsx)("input",{type:"hidden",name:"image",value:ee.image})]})]})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-gray-300 text-sm font-medium mb-1",children:"Etkinlik A\xe7ıklaması"}),(0,r.jsx)("textarea",{className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px]",value:ee.description,onChange:eS,name:"description",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center mb-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"featured",className:"w-4 h-4 text-blue-500 bg-gray-700 border-gray-600 rounded focus:ring-blue-500 focus:ring-offset-gray-800",checked:ee.featured,onChange:eS,name:"featured"}),(0,r.jsx)("label",{htmlFor:"featured",className:"ml-2 text-sm text-gray-300",children:"Ana sayfada \xf6ne \xe7ıkar"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"ticketsAvailable",className:"w-4 h-4 text-blue-500 bg-gray-700 border-gray-600 rounded focus:ring-blue-500 focus:ring-offset-gray-800",checked:ee.ticketsAvailable,onChange:eS,name:"ticketsAvailable"}),(0,r.jsx)("label",{htmlFor:"ticketsAvailable",className:"ml-2 text-sm text-gray-300",children:"Bilet satışı a\xe7ık"})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>J(!1),className:"px-3 py-1.5 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-500",children:"İptal"}),(0,r.jsxs)("button",{type:"submit",className:"px-3 py-1.5 bg-blue-500 text-white text-sm rounded-md hover:bg-blue-600 flex items-center",children:[(0,r.jsx)(C.Z,{className:"w-3 h-3 mr-1"}),W?"G\xfcncelle":"Kaydet"]})]})]})]})})]})})}}},function(e){e.O(0,[8240,703,8792,3755,8009,7477,8923,5947,5494,2971,8069,1744],function(){return e(e.s=2781)}),_N_E=e.O()}]);