(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9674],{3791:function(e,t,s){Promise.resolve().then(s.bind(s,1147))},6578:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6490:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},94:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},834:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8670:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},3854:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},1483:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1147:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(3827),r=s(4090),l=s(5947),n=s(7907),i=s(834),c=s(3854),d=s(8670),x=s(6490);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,s(7461).Z)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var m=s(6578),u=s(1483),h=s(1213),p=s(7326),g=s(94),y=s(8792),f=s(5561),b=s(5494);function j(){let e=(0,n.useRouter)(),{user:t}=(0,l.useAuth)(),[s,j]=(0,r.useState)([]),[N,v]=(0,r.useState)(!0),[k,w]=(0,r.useState)(""),[A,C]=(0,r.useState)("all"),[Z,M]=(0,r.useState)(1),[z,D]=(0,r.useState)(1);(0,r.useEffect)(()=>{if(!t||t.rank!==f.X.ADMIN){e.push("/");return}let s=()=>{v(!0);let e=localStorage.getItem("slotjack_registered_users");if(!e){j([]),v(!1);return}let t=Object.entries(JSON.parse(e)).map(e=>{let[t,s]=e;return{id:s.id,name:s.name||t.split("@")[0],email:t,rank:s.rank||f.X.NORMAL,jackPoints:s.jackPoints||0,isVerified:s.isVerified||!1,phoneVerified:s.phoneVerified||!1,lastActive:s.lastActive||s.lastUpdated||Date.now(),createdAt:s.createdAt||Date.now(),phoneNumber:s.phoneNumber||"",platform:s.platform||"web"}});j(t),D(Math.ceil(t.length/15)),v(!1)};s();let a=e=>{"slotjack_registered_users"===e.key&&s()};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}},[t,e]);let V=s.filter(e=>{let t=e.name.toLowerCase().includes(k.toLowerCase())||e.email.toLowerCase().includes(k.toLowerCase())||e.id.toLowerCase().includes(k.toLowerCase()),s=!0;return"active"===A?s=Date.now()-e.lastActive<2592e6:"inactive"===A?s=Date.now()-e.lastActive>=2592e6:"verified"===A?s=e.isVerified||e.phoneVerified||!1:"unverified"===A&&(s=!(e.isVerified||e.phoneVerified)),t&&s}).sort((e,t)=>t.lastActive-e.lastActive),L=V.slice((Z-1)*15,15*Z),S=e=>{let t=Math.floor((Date.now()-e)/1e3),s=Math.floor(t/31536e3);return s>=1?"".concat(s," yıl \xf6nce"):(s=Math.floor(t/2592e3))>=1?"".concat(s," ay \xf6nce"):(s=Math.floor(t/86400))>=1?"".concat(s," g\xfcn \xf6nce"):(s=Math.floor(t/3600))>=1?"".concat(s," saat \xf6nce"):(s=Math.floor(t/60))>=1?"".concat(s," dakika \xf6nce"):"".concat(Math.floor(t)," saniye \xf6nce")},P=e=>new Date(e).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,a.jsx)(b.Z,{children:(0,a.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Kullanıcı Y\xf6netimi"}),(0,a.jsx)("p",{className:"text-gray-400",children:"T\xfcm kullanıcıları g\xf6r\xfcnt\xfcle, d\xfczenle ve y\xf6net"})]}),(0,a.jsxs)("div",{className:"flex items-center mt-4 md:mt-0 space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>{let e=localStorage.getItem("slotjack_registered_users");if(!e){j([]);return}let t=Object.entries(JSON.parse(e)).map(e=>{let[t,s]=e;return{id:s.id,name:s.name||t.split("@")[0],email:t,rank:s.rank||f.X.NORMAL,jackPoints:s.jackPoints||0,isVerified:s.isVerified||!1,phoneVerified:s.phoneVerified||!1,lastActive:s.lastActive||s.lastUpdated||Date.now(),createdAt:s.createdAt||Date.now(),phoneNumber:s.phoneNumber||"",platform:s.platform||"web"}});j(t),D(Math.ceil(t.length/15))},className:"flex items-center space-x-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,a.jsx)(i.Z,{size:16}),(0,a.jsx)("span",{children:"Yenile"})]}),(0,a.jsxs)("button",{onClick:()=>{alert("Yeni kullanıcı ekleme \xf6zelliği hen\xfcz eklenmedi.")},className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,a.jsx)(c.Z,{size:16}),(0,a.jsx)("span",{children:"Yeni Kullanıcı"})]})]})]}),(0,a.jsx)("div",{className:"bg-gray-800 p-4 rounded-lg mb-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[(0,a.jsxs)("div",{className:"relative flex-grow",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",placeholder:"Kullanıcı ara...",className:"bg-gray-700 border border-gray-600 text-white pl-10 pr-4 py-2 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:k,onChange:e=>w(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>C("all"),className:"px-3 py-2 rounded-lg text-sm ".concat("all"===A?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:"T\xfcm\xfc"}),(0,a.jsxs)("button",{onClick:()=>C("active"),className:"px-3 py-2 rounded-lg text-sm flex items-center ".concat("active"===A?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[(0,a.jsx)(x.Z,{size:14,className:"mr-1"}),"Aktif"]}),(0,a.jsxs)("button",{onClick:()=>C("inactive"),className:"px-3 py-2 rounded-lg text-sm flex items-center ".concat("inactive"===A?"bg-orange-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[(0,a.jsx)(o,{size:14,className:"mr-1"}),"İnaktif"]}),(0,a.jsxs)("button",{onClick:()=>C("verified"),className:"px-3 py-2 rounded-lg text-sm flex items-center ".concat("verified"===A?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[(0,a.jsx)(m.Z,{size:14,className:"mr-1"}),"Doğrulanmış"]}),(0,a.jsxs)("button",{onClick:()=>C("unverified"),className:"px-3 py-2 rounded-lg text-sm flex items-center ".concat("unverified"===A?"bg-gray-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[(0,a.jsx)(u.Z,{size:14,className:"mr-1"}),"Doğrulanmamış"]})]})]})}),N?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):0===V.length?(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 mx-auto bg-gray-700 rounded-full flex items-center justify-center mb-4",children:(0,a.jsx)(h.Z,{size:40,className:"text-gray-500"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Kullanıcı Bulunamadı"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"Arama kriterlerinize uygun kullanıcı bulunamadı."}),(0,a.jsx)("button",{onClick:()=>{w(""),C("all")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"T\xfcm Kullanıcıları G\xf6ster"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-gray-800 overflow-hidden rounded-lg shadow",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,a.jsx)("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Kullanıcı"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"JackPoints"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Platform"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Telefon"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Durum"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Son Aktivite"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Kayıt Tarihi"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"İşlemler"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-700",children:L.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-750",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-600 flex items-center justify-center",children:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:e.email}),e.rank===f.X.ADMIN&&(0,a.jsxs)("span",{className:"px-2 py-0.5 text-xs rounded-full bg-red-900 text-red-200 inline-flex items-center",children:[(0,a.jsx)(p.Z,{size:10,className:"mr-1"})," Admin"]}),e.rank===f.X.VIP&&(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full bg-yellow-900 text-yellow-200",children:"VIP"})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-white",children:e.jackPoints.toLocaleString()})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-white",children:(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-indigo-900 text-indigo-200",children:e.platform||"web"})})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-white",children:e.phoneNumber?(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900 text-green-200",children:e.phoneNumber}):(0,a.jsx)("span",{className:"text-gray-500 text-xs",children:"---"})})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[e.isVerified||e.phoneVerified?(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900 text-green-200",children:"Doğrulanmış"}):(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-700 text-gray-300",children:"Doğrulanmamış"}),Date.now()-e.lastActive<2592e6?(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-900 text-blue-200",children:"Aktif"}):(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-900 text-orange-200",children:"İnaktif"})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:[(0,a.jsx)("div",{className:"text-sm text-gray-300",children:S(e.lastActive)}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:P(e.lastActive)})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:[(0,a.jsx)("div",{className:"text-sm text-gray-300",children:S(e.createdAt)}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:P(e.createdAt)})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,a.jsxs)(y.default,{href:"/admin/users/".concat(e.id),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded mr-2 inline-flex items-center",children:[(0,a.jsx)(h.Z,{size:14,className:"mr-1"}),"Profil"]}),(0,a.jsxs)(y.default,{href:"/admin/users/".concat(e.id,"/partners"),className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded inline-flex items-center",children:[(0,a.jsx)(g.Z,{size:14,className:"mr-1"}),"Partners"]})]})]},e.id))})]})})}),z>1&&(0,a.jsx)("div",{className:"flex justify-center mt-6",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("button",{onClick:()=>M(Z>1?Z-1:1),disabled:1===Z,className:"px-4 py-2 rounded-lg text-sm ".concat(1===Z?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"\xd6nceki"}),Array.from({length:Math.min(5,z)},(e,t)=>{let s=Z<=3?t+1:Z>=z-2?z-4+t:Z-2+t;return s<=z?(0,a.jsx)("button",{onClick:()=>M(s),className:"px-4 py-2 rounded-lg text-sm ".concat(Z===s?"bg-blue-600 text-white":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:s},s):null}),(0,a.jsx)("button",{onClick:()=>M(Z<z?Z+1:z),disabled:Z===z,className:"px-4 py-2 rounded-lg text-sm ".concat(Z===z?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Sonraki"})]})})]})]})})}}},function(e){e.O(0,[8240,703,8792,3755,5947,5494,2971,8069,1744],function(){return e(e.s=3791)}),_N_E=e.O()}]);