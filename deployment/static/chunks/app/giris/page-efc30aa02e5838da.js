(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3183],{4102:function(e,r,t){Promise.resolve().then(t.bind(t,4359))},4359:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m},dynamic:function(){return d}});var s=t(3827),a=t(4090),l=t(7907),n=t(5947),i=t(5494),o=t(8792);function u(){let{signIn:e,error:r,user:t}=(0,n.useAuth)(),i=(0,l.useRouter)(),[u,d]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[g,f]=(0,a.useState)(null),[p,y]=(0,a.useState)(null),[b,j]=(0,a.useState)(!1),v=(0,l.useSearchParams)();(0,a.useEffect)(()=>{let e;return x&&(e=setTimeout(()=>{f("Y\xfckleme uzun s\xfcrd\xfc. Oturum durumunuzu sıfırlamak isteyebilirsiniz."),j(!0)},5e3)),()=>{clearTimeout(e)}},[x]),(0,a.useEffect)(()=>{(null==v?void 0:v.get("emailExists"))==="true"?y("Bu e-posta zaten kayıtlı. L\xfctfen giriş yapın."):(null==v?void 0:v.get("logout"))==="true"?y("Başarıyla \xe7ıkış yaptınız."):(null==v?void 0:v.get("error"))==="true"?f("Bir hata oluştu. L\xfctfen tekrar giriş yapmayı deneyin."):(null==v?void 0:v.get("reset"))==="true"&&y("Uygulama durumu sıfırlandı. L\xfctfen tekrar giriş yapın.")},[v]);let w=async r=>{r.preventDefault(),f(null),h(!0);try{await e(u,c),i.push("/")}catch(e){f(e.toString())}finally{h(!1)}};return(0,s.jsxs)("div",{className:"w-full max-w-md p-8 space-y-4 bg-gray-900 rounded-xl shadow-lg border border-gray-800",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Giriş Yap"}),(0,s.jsx)("p",{className:"text-gray-400 mt-1",children:"SLOTJACK hesabınıza giriş yapın"})]}),p&&(0,s.jsx)("div",{className:"p-4 rounded-lg bg-green-900/50 border border-green-800 text-green-200 text-sm",children:p}),b&&(0,s.jsxs)("div",{className:"p-4 rounded-lg bg-yellow-900/50 border border-yellow-800 text-yellow-200 text-sm",children:[(0,s.jsx)("p",{children:"Giriş yaparken bir sorun mu yaşıyorsunuz?"}),(0,s.jsx)("button",{onClick:()=>{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>{document.cookie=e.trim().split("=")[0]+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}),window.location.href="/giris?reset=true"},className:"mt-2 w-full py-2 px-4 bg-yellow-700 hover:bg-yellow-600 text-white text-sm rounded transition-colors",children:"Oturum Durumunu Sıfırla"})]}),(g||r)&&(0,s.jsx)("div",{className:"p-4 mb-4 text-sm text-red-400 bg-red-900/30 rounded-lg",role:"alert",children:g||r}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:w,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"E-posta"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:u,onChange:e=>d(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"E-posta adresiniz"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Şifre"}),(0,s.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:c,onChange:e=>m(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Şifreniz"})]}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("div",{className:"text-sm",children:(0,s.jsx)(o.default,{href:"/sifremi-unuttum",className:"font-medium text-orange-500 hover:text-orange-400",children:"Şifremi unuttum"})})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Giriş yapılıyor...":"Giriş Yap"})})]}),(0,s.jsx)("div",{className:"text-center mt-4",children:(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Hesabınız yok mu?"," ",(0,s.jsx)(o.default,{href:"/kayit",className:"font-medium text-orange-500 hover:text-orange-400",children:"Hemen kaydolun"})]})})]})}let d="force-dynamic",c=()=>(0,s.jsxs)("div",{className:"w-full max-w-md p-8 space-y-4 bg-gray-900 rounded-xl shadow-lg border border-gray-800",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Giriş Yap"}),(0,s.jsx)("p",{className:"text-gray-400 mt-1",children:"SLOTJACK hesabınıza giriş yapın"})]}),(0,s.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,s.jsx)("div",{className:"h-10 bg-gray-700 rounded"}),(0,s.jsx)("div",{className:"h-10 bg-gray-700 rounded"}),(0,s.jsx)("div",{className:"h-10 bg-orange-700 rounded"})]})]});function m(){let e=(0,l.useRouter)(),{user:r}=(0,n.useAuth)();return(0,a.useEffect)(()=>{r&&e.push("/")},[r,e]),(0,s.jsx)(i.Z,{children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)] px-4 py-12",children:(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)(c,{}),children:(0,s.jsx)(u,{})})})})}}},function(e){e.O(0,[8240,703,8792,3755,5947,5494,2971,8069,1744],function(){return e(e.s=4102)}),_N_E=e.O()}]);