"use strict";(()=>{var e={};e.id=8873,e.ids=[8873],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},14644:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>y,patchFetch:()=>P,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>f});var o={};r.r(o),r.d(o,{POST:()=>u});var n=r(95419),a=r(69108),i=r(99678),s=r(78070),l=r(35300),c=r(1397);async function u(e){try{console.log("Login API called");let{email:t,password:r}=await e.json(),o={id:(0,l.Z)(),email:t,name:t.split("@")[0],jackPoints:1e3};try{console.log("Creating login transaction in API for user:",o);let e=await (0,c.dT)({userId:o.id,userEmail:o.email,userName:o.name,amount:25,description:"Login bonus (API)",timestamp:Date.now(),type:"bonus"});console.log("Transaction created successfully:",e)}catch(e){console.error("Failed to create login transaction in API:",e)}return s.Z.json({success:!0,user:o,token:`mock-token-${(0,l.Z)()}`})}catch(e){return console.error("Login error:",e),s.Z.json({success:!1,error:"Authentication failed"},{status:401})}}let d=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"E:\\copycoder-2025-04-13T00-58-05-829Z\\src\\app\\api\\auth\\login\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:g,staticGenerationAsyncStorage:p,serverHooks:h,headerHooks:m,staticGenerationBailout:f}=d,y="/api/auth/login/route";function P(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:p})}},1397:(e,t,r)=>{r.d(t,{dT:()=>o});let o=async e=>{console.log("TransactionsService.addTransaction called with:",e);try{try{let t=await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();return console.log("Transaction saved via API:",e),e}}catch(e){console.error("Error adding transaction via API:",e)}let t={id:`local_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,...e};return n(t),t}catch(t){return console.error("Error in addTransaction:",t),{id:`local_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,...e}}},n=e=>{}},35300:(e,t,r)=>{r.d(t,{Z:()=>l});var o=r(6113);let n={randomUUID:o.randomUUID},a=new Uint8Array(256),i=a.length,s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));let l=function(e,t,r){if(n.randomUUID&&!t&&!e)return n.randomUUID();let l=(e=e||{}).random??e.rng?.()??(i>a.length-16&&((0,o.randomFillSync)(a),i=0),a.slice(i,i+=16));if(l.length<16)throw Error("Random bytes length must be >= 16");if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=l[e];return t}return function(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}(l)}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[1638,6206],()=>r(14644));module.exports=o})();