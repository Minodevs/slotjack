(()=>{var e={};e.id=3828,e.ids=[3828],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},17140:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(50482),a=r(69108),i=r(62563),l=r.n(i),n=r(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let c=["",{children:["market",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9050)),"E:\\copycoder-2025-04-13T00-58-05-829Z\\src\\app\\market\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,86003))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,61711)),"E:\\copycoder-2025-04-13T00-58-05-829Z\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,86003))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["E:\\copycoder-2025-04-13T00-58-05-829Z\\src\\app\\market\\page.tsx"],m="/market/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/market/page",pathname:"/market",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},62730:(e,t,r)=>{Promise.resolve().then(r.bind(r,59582))},45961:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},55313:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},59582:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(95344),a=r(3729),i=r(8428),l=r(90521),n=r(45961),o=r(55313),c=r(44669),d=r(15532);function m(){(0,i.useRouter)();let e=(0,l.useAuth)(),[t,r]=(0,a.useState)(!0),[m,x]=(0,a.useState)([]),[u,p]=(0,a.useState)(null),{user:h}=e||{},g=h?.jackPoints||0;if((0,a.useEffect)(()=>{(async()=>{try{r(!0),p(null);let e=await fetch(`/api/market/items?t=${Date.now()}`,{cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(!e.ok)throw Error(`API error: ${e.status}`);let t=await e.json();if(t.success&&t.items&&Array.isArray(t.items))console.log("Loaded market items:",t.items.length),x(t.items);else throw Error("Invalid response format")}catch(e){console.error("Error loading market items:",e),p("\xdcr\xfcnler y\xfcklenirken bir hata oluştu. L\xfctfen daha sonra tekrar deneyin.");try{let e=localStorage.getItem("market_items");if(e){let t=JSON.parse(e);Array.isArray(t)&&t.length>0&&(x(t),c.toast.success("Veriler \xe7evrimdışı modda y\xfcklendi"))}}catch(e){console.error("Error loading from localStorage:",e)}}finally{r(!1)}})()},[]),t)return s.jsx(d.Z,{children:s.jsx("div",{className:"w-full flex items-center justify-center min-h-[500px] bg-gray-900",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#FF6B00] border-t-transparent rounded-full animate-spin mb-3"}),s.jsx("p",{className:"text-base text-gray-300",children:"Y\xfckleniyor..."})]})})});let b=t=>{if(!h){c.toast.error("Satın alma işlemi i\xe7in giriş yapmalısınız");return}if(g<t.points){c.toast.error("Yeterli JackPoint'iniz bulunmamaktadır");return}e?.updateJackPoints&&(e.updateJackPoints(-t.points,`${t.name} satın alındı`,"spend"),c.toast.success("Satın alma işlemi başarılı! Telegram \xfczerinden bizimle iletişime ge\xe7in: @slotjack"))};return s.jsx(d.Z,{children:s.jsx("div",{className:"bg-gray-900 min-h-screen pb-10",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 pt-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Puan Marketi"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Kazandığınız puanlar ile markette bulunan kartlardan taleplerinizi ger\xe7ekleştirin!"}),s.jsx("div",{className:"bg-amber-900/30 border border-amber-700 rounded-lg p-4 mb-8",children:(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-amber-500 rounded-full p-1 mr-2 mt-0.5 flex-shrink-0",children:s.jsx(n.Z,{className:"text-black w-4 h-4"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-amber-500 font-semibold text-sm mb-1",children:"\xdcyeler Ayda 1 Kere Nakit \xd6d\xfcl Alabilir."}),s.jsx("p",{className:"text-amber-200 text-xs",children:"Multi hesapla kasım sağlayanların puanları iptal edilmeyecek ve etkinliklerden men edilecektir."})]})]})}),s.jsx("div",{className:"hidden md:grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map(e=>(0,s.jsxs)("div",{className:"rounded-lg overflow-hidden bg-gray-800/50 border border-gray-700 flex flex-col",children:[s.jsx("div",{className:"relative w-full h-40 bg-blue-900",children:s.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-contain"})}),(0,s.jsxs)("div",{className:"p-4",children:[s.jsx("h3",{className:"text-white text-lg font-bold mb-1",children:e.name}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"bg-gray-700 p-3 rounded-lg flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(o.Z,{className:"w-5 h-5 text-yellow-500"}),s.jsx("span",{className:"text-white font-bold",children:e.points})]}),s.jsx("button",{className:"bg-[#FF6B00] hover:bg-[#E05A00] text-white px-4 py-2 rounded-md text-sm font-medium",onClick:()=>b(e),children:"Satın Al"})]})]})]})]},`desktop-${e.id}`))}),s.jsx("div",{className:"flex flex-col md:hidden space-y-5",children:m.map(e=>(0,s.jsxs)("div",{className:"rounded-lg overflow-hidden bg-gray-800/50 border border-gray-700 flex flex-col",children:[s.jsx("div",{className:"relative w-full",style:{backgroundColor:"#192350"},children:s.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full object-contain py-6",style:{maxHeight:"180px"}})}),(0,s.jsxs)("div",{className:"p-5",children:[s.jsx("h3",{className:"text-white text-xl font-bold mb-2",children:e.name}),s.jsx("div",{className:"text-gray-400 text-sm mb-4",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[s.jsx("div",{className:"bg-gray-700/70 py-2 px-4 rounded-full flex items-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(o.Z,{className:"w-5 h-5 text-yellow-500"}),s.jsx("span",{className:"text-white font-bold",children:e.points})]})}),s.jsx("button",{className:"bg-[#FF6B00] hover:bg-[#E05A00] text-white px-6 py-3 rounded-full text-sm font-medium",onClick:()=>b(e),children:"Satın Al"})]})]})]},`mobile-${e.id}`))}),(u||0===m.length)&&s.jsx("div",{className:"bg-gray-800 rounded-lg p-8 text-center mt-8",children:s.jsx("p",{className:"text-gray-400",children:u||"Hen\xfcz market \xfcr\xfcn\xfc bulunmamaktadır."})})]})})})}},9050:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let s=(0,r(86843).createProxy)(String.raw`E:\copycoder-2025-04-13T00-58-05-829Z\src\app\market\page.tsx`),{__esModule:a,$$typeof:i}=s,l=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,5362,337,9410,6506,1017,613,8804],()=>r(17140));module.exports=s})();